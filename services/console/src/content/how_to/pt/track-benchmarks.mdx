---
title: "Acompanhe Benchmarks"
description: "Identifique regress√µes de desempenho de benchmark de c√≥digo com benchmarking cont√≠nuo hist√≥rico ou benchmarking cont√≠nuo relativo"
heading: "Como usar o Bencher para Acompanhar Benchmarks"
sortOrder: 2
---

import TrackHistorical from "../../../chunks/how_to/track-historical.mdx";
import TrackRelative from "../../../chunks/how_to/track-relative.mdx";

A maneira mais f√°cil de acompanhar seus benchmarks √© o subcomando CLI <code><a href="/pt/docs/explanation/bencher-run/">bencher run</a></code>. Veja a [vis√£o geral do benchmarking](/pt/docs/explanation/benchmarking/) para uma explica√ß√£o mais detalhada.
Este √© um exemplo de um subcomando CLI <code><a href="/pt/docs/explanation/bencher-run/">bencher run</a></code> para acompanhar benchmarks em uma branch de funcionalidade adequadamente nomeada `feature-branch`:

<TrackHistorical />

1. O Projeto deve j√° existir. Defina a flag `--project` ou a vari√°vel de ambiente `BENCHER_PROJECT` para o slug do Projeto ou UUID. (ex: `--project save-walter-white`)
1. O token da API j√° deve existir. Defina a flag `--token` ou a vari√°vel de ambiente `BENCHER_API_TOKEN` para o token da API. (ex: `--token ...`)
1. Opcional: Defina a flag `--adapter` ou a vari√°vel de ambiente `BENCHER_ADAPTER` para o nome do adaptador desejado. Se isso n√£o for definido, o Adaptador `magic` ser√° usado. Veja [adaptadores de suporte de benchmark](/pt/docs/explanation/adapters/) para uma vis√£o geral completa. (ex: `--adapter json`)
1. Existem v√°rias op√ß√µes para definir a branch do projeto. Veja [sele√ß√£o de branch](/pt/docs/explanation/branch-selection/) para uma vis√£o geral completa.
    1. Use a branch atual se ela j√° existir. (ex: `--if-branch feature-branch`)
    1. Crie um clone dos dados da branch alvo se eles j√° existirem. (ex: `--else-if-branch main`)
    1. Caso contr√°rio, crie uma nova branch com o nome fornecido para `--if-branch`, que seria `feature-branch`. (ex: `--else-branch`)
1. Opcional: Defina a flag `--testbed` ou a vari√°vel de ambiente `BENCHER_TESTBED` para o slug do Testbed ou UUID. O Testbed j√° deve existir. Se isso n√£o for definido, ent√£o o Testbed `localhost` padr√£o ser√° usado. (ex: `--testbed localhost`)
1. Defina o comando para falhar se um Alerta for gerado. Para que um Alerta seja gerado, um [Threshold](/pt/docs/explanation/thresholds/) j√° deve existir. (ex: `--err`)
1. Execute seus benchmarks e gere um Relat√≥rio a partir dos resultados. (ex: `"bencher mock"`)

## Benchmarking Relativo

Benchmarking relativo executa uma compara√ß√£o lado a lado de dois commits.
Isso pode ser √∫til ao lidar com ambientes CI/CD barulhentos,
onde o recurso dispon√≠vel pode variar muito entre execu√ß√µes.
Este √© um exemplo de um subcomando CLI <code><a href="/pt/docs/explanation/bencher-run/">bencher run</a></code> para executar benchmarking relativo em uma branch de funcionalidade adequadamente nomeada `feature-branch`:

<TrackRelative />

1. Fa√ßa checkout na branch de funcionalidade. (ex: `feature-branch`)
1. Crie uma vari√°vel de ambiente que seja o nome da branch de funcionalidade concatenado com o ID do commit git curto. Isso √© importante! Garante que para cada execu√ß√£o uma nova branch √© criada.
1. Fa√ßa checkout na branch alvo. (ex: `main`)
1. Execute `bencher run` para a branch alvo:
    1. A branch dada ainda n√£o existir√°. (ex: `--if-branch "$FEATURE_BRANCH"`)
    1. Ent√£o ser√° criada. (ex: `--else-branch`)
    1. Execute os benchmarks tr√™s vezes. (ex: `--iter 3`)
1. Fa√ßa checkout na branch de funcionalidade. (ex: `feature-branch`)
1. Crie um [Threshold](/pt/docs/explanation/thresholds/) para a branch de funcionalidade:
    1. A Branch √© a branch de funcionalidade com o ID do commit git adicionado. (ex: `--branch "$FEATURE_BRANCH"`)
    1. O Testbed est√° sendo executado localmente. (ex: `--testbed localhost`)
    1. O Tipo de M√©trica para os benchmarks √© Lat√™ncia. (ex: `--measure latency`)
    1. Existem menos de 30 m√©tricas, use um teste t de Student. (ex: `--test t`)
    1. Defina um limite √† direita de 95,0% porque uma Lat√™ncia maior indica uma regress√£o de desempenho. (ex: `--upper-boundary 0.95`)
1. Execute `bencher run` para a branch de funcionalidade:
    1. A Branch existir√° pois acabou de ser criada. (ex: `--branch "$FEATURE_BRANCH"`)
    1. Execute os testes tr√™s vezes. (ex: `--iter 3`)
    1. Dobre todas as tr√™s m√©tricas para o valor m√≠nimo. (ex: `--fold min`)
    1. Defina o comando para falhar se um Alerta for gerado pelo [Threshold](/pt/docs/explanation/thresholds/). (ex: `--err`)

<br/>
<br/>

> üê∞ Parab√©ns! Voc√™ aprendeu como usar o Bencher para acompanhar benchmarks! üéâ

<br/>

<h2><a href="/pt/docs/how-to/github-actions/">Adicione o Bencher √†s A√ß√µes do GitHub ‚û°</a></h2>
<h2><a href="/pt/docs/how-to/gitlab-ci-cd/">Adicione o Bencher ao GitLab CI/CD ‚û°</a></h2>
