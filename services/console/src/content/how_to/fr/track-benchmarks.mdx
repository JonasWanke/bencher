---
title: "Suivre les Benchmarks"
description: "Attrapez les r√©gressions de performance du code benchmark avec le benchmarking continu historique ou le benchmarking continu relatif"
heading: "Comment utiliser Bencher pour suivre les Benchmarks"
sortOrder: 2
---

La fa√ßon la plus simple de suivre vos benchmarks est la sous-commande CLI <code><a href="/docs/fr/explanation/bencher-run">bencher run</a></code>.
Consultez l'[aper√ßu du benchmarking](/docs/fr/explanation/benchmarking) pour une explication plus approfondie.
Voici un exemple d'une sous-commande CLI <code><a href="/docs/fr/explanation/bencher-run">bencher run</a></code> pour suivre les benchmarks sur une branche de fonctionnalit√© judicieusement nomm√©e `branche-fonctionnalit√©` :

```
bencher run \
--project sauver-walter-white \
--token eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjbGllbnQiLCJleHAiOjE2NzQwNjA3NTAsImlhdCI6MTY3MTQ2ODc1MCwiaXNzIjoiYmVuY2hlci5kZXYiLCJzdWIiOiJzYXVsQGJldHRlcmNhbGxzYXVsLmNvbSIsIm9yZyI6bnVsbH0.CABcvWlPobAHs7wsdR6wX5p0R2jaCd7RmpsnMp5pwEc \
--adapter json \
--if-branch branche-fonctionnalit√© \
--else-if-branch main \
--else-branch \
--testbed phoenix \
--err \
"bencher mock"`
```

1. Le projet doit d√©j√† exister. D√©finissez le drapeau `--project` ou la variable d'environnement `BENCHER_PROJECT` sur le slug du projet ou l'UUID. (ex: `--project sauver-walter-white`)
1. Le token API doit d√©j√† exister. D√©finissez le drapeau `--token` ou la variable d'environnement `BENCHER_API_TOKEN` sur le token API. (ex: `--token ...`)
1. Optionnel : D√©finissez le drapeau `--adapter` ou la variable d'environnement `BENCHER_ADAPTER` sur le nom de l'adaptateur d√©sir√©. Si cela n'est pas d√©fini, alors l'adaptateur `magic` sera utilis√©. Consultez les [adaptateurs de harnais de benchmark](/docs/fr/explanation/adapters) pour un aper√ßu complet. (ex: `--adapter json`)
1. Il y a plusieurs options pour d√©finir la branche du projet. Consultez la [s√©lection de branche](/docs/fr/explanation/branch-selection) pour un aper√ßu complet.
    1. Utilisez la branche actuelle si elle existe d√©j√†. (ex: `--if-branch branche-fonctionnalit√©`)
    1. Cr√©ez un clone des donn√©es de la branche cible si elle existe d√©j√†. (ex: `--else-if-branch main`)
    1. Sinon, cr√©ez une nouvelle branche avec le nom fourni √† `--if-branch`, qui serait `branche-fonctionnalit√©`. (ex: `--else-branch`)
1. Optionnel : D√©finissez le drapeau `--testbed` ou la variable d'environnement `BENCHER_TESTBED` sur le slug du Testbed ou l'UUID. Le Testbed doit d√©j√† exister. Si cela n'est pas d√©fini, alors le Testbed par d√©faut `localhost` sera utilis√©. (ex: `--testbed phoenix`)
1. D√©finissez la commande pour √©chouer si une alerte est g√©n√©r√©e. Pour qu'une alerte soit g√©n√©r√©e, un [Seuil](/docs/fr/explanation/thresholds) doit d√©j√† exister. (ex: `--err`)
1. Ex√©cutez vos benchmarks et g√©n√©rez un Rapport √† partir des r√©sultats. (ex: `"bencher mock"`)

## Benchmarking Relatif

Le benchmarking relatif effectue une comparaison c√¥te √† c√¥te de deux commits.
Cela peut √™tre utile lorsqu'on traite des environnements CI/CD bruyants,
o√π la ressource disponible peut √™tre tr√®s variable entre les ex√©cutions.
Voici un exemple d'une sous-commande CLI <code><a href="/docs/fr/explanation/bencher-run">bencher run</a></code> pour effectuer un benchmarking relatif sur une branche de fonctionnalit√© judicieusement nomm√©e `branche-fonctionnalit√©` :

```
git checkout branche-fonctionnalit√©

export BRANCHE_FONCTIONNALIT√â=branche-fonctionnalit√©-$(git rev-parse --short HEAD)

git checkout main

bencher run \
--if-branch "$BRANCHE_FONCTIONNALIT√â" \
--else-branch \
--iter 3 \
"bencher mock"

git checkout branche-fonctionnalit√©

bencher threshold create \
--branch "$BRANCHE_FONCTIONNALIT√â" \
--testbed localhost \
--measure latency \
--test t \
--right-side 0.95

bencher run \
--if-branch "$BRANCHE_FONCTIONNALIT√â" \
--iter 3 \
--fold min \
--err \
"bencher mock"
```

1. Passez √† la branche de fonctionnalit√©. (ex: `branche-fonctionnalit√©`)
1. Cr√©ez une variable d'environnement qui est le nom de la branche de fonctionnalit√© concat√©n√© avec l'ID de commit git court. C'est important ! Cela garantit qu'une nouvelle branche est cr√©√©e √† chaque ex√©cution.
1. Passez √† la branche cible. (ex: `main`)
1. Ex√©cutez `bencher run` pour la branche cible :
    1. La branche donn√©e n'existera pas encore. (ex: `--if-branch "$BRANCHE_FONCTIONNALIT√â"`)
    1. Alors elle sera cr√©√©e. (ex: `--else-branch`)
    1. Ex√©cutez les benchmarks trois fois. (ex: `--iter 3`)
1. Passez √† la branche de fonctionnalit√©. (ex: `branche-fonctionnalit√©`)
1. Cr√©ez un [Seuil](/docs/fr/explanation/thresholds) pour la branche de fonctionnalit√© :
    1. La branche est la branche de fonctionnalit√© avec l'ID de commit git ajout√©. (ex: `--branch "$BRANCHE_FONCTIONNALIT√â"`)
    1. Le Testbed est en cours d'ex√©cution localement. (ex: `--testbed localhost`)
    1. Le type de m√©trique pour les benchmarks est la Latence. (ex: `--measure latency`)
    1. Il y a moins de 30 m√©triques, utilisez un test t de Student. (ex: `--test t`)
    1. D√©finissez une limite sup√©rieure de 95.0% car une latence plus grande indique une r√©gression de performance. (ex: `--right-side 0.95`)
1. Ex√©cutez `bencher run` pour la branche de fonctionnalit√© :
    1. La branche existera puisqu'elle vient d'√™tre cr√©√©e. (ex: `--if-branch "$BRANCHE_FONCTIONNALIT√â"`)
    1. Ex√©cutez les tests trois fois. (ex: `--iter 3`)
    1. Pliez les trois M√©triques en la valeur minimale. (ex: `--fold min`)
    1. D√©finissez la commande pour √©chouer si une alerte est g√©n√©r√©e par le [Seuil](/docs/fr/explanation/thresholds). (ex: `--err`)

<br/>
<br/>

> üê∞ F√©licitations ! Vous avez appris comment utiliser Bencher pour suivre les benchmarks ! üéâ

<br/>

<h2><a href="/docs/fr/how-to/github-actions">Ajouter Bencher √† GitHub Actions ‚û°</a></h2>
<h2><a href="/docs/fr/how-to/gitlab-ci-cd">Ajouter Bencher √† GitLab CI/CD ‚û°</a></h2>