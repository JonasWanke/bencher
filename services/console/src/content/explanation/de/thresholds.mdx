---
title: "Schwellenwerte & Alarme"
description: "√úberblick √ºber die Verwendung von Schwellenwerten zur Erkennung von Performance-R√ºckschritten in Code-Benchmarks mit Alarmen"
heading: "Schwellenwerte & Alarme"
sortOrder: 4
---

Schwellenwerte k√∂nnen f√ºr die einzigartige Kombination aus Metrikart, Branch und Testbed erstellt werden.
Sie sind statistische Signifikanztests, die entweder eine
[Z-Score](https://de.wikipedia.org/wiki/Standardisierung_(Statistik))
oder [Student's T-Test](https://de.wikipedia.org/wiki/T-Test)
verwenden, um Leistungseinbr√ºche zu detektieren und Alarme zu erzeugen.
Wenn eine Metrik unterhalb der unteren Grenze eines Schwellenwerts oder oberhalb der oberen Grenze eines Schwellenwerts liegt,
wird ein Alarm f√ºr diese Metrik erzeugt.

Schwellenwerte funktionieren am besten, wenn:
- Es gibt keine extremen Unterschiede zwischen Benchmark-L√§ufen
- Benchmark-L√§ufe sind v√∂llig unabh√§ngig voneinander
- Die Anzahl der Iterationen f√ºr einen einzelnen Benchmark-Lauf ist weniger als 10% der historischen Metriken

Wenn es weniger als 30 historische Metriken f√ºr die Kombination von Metrikart, Branch und Testbed gibt, dann sollte ein Student's T-Test-Schwellenwert verwendet werden und __*nicht*__ ein Z-Score-Schwellenwert.

<div class="content has-text-centered">
    <figure>
<img
    src="https://upload.wikimedia.org/wikipedia/commons/2/25/The_Normal_Distribution.svg"
    width="800"
    height="600"
    alt="The Normal Distribution https://commons.wikimedia.org/wiki/File:The_Normal_Distribution.svg"
/>
<br/>
<small>üê∞ Keine Panik! Das wird in einer Minute alles Sinn machen.</small>
</figure>
</div>

##Test auf statistische Signifikanz

### Z-Score

Der Z-Score misst die Anzahl der [Standardabweichungen](https://de.wikipedia.org/wiki/Standardabweichung) (œÉ), die eine gegebene Metrik √ºber oder unter dem Durchschnitt der historischen Metriken liegt.
Die Standardabweichung (œÉ) kann auch als _untere_ Grenze oder _obere_ Grenze kumulative Prozentzahl ausgedr√ºckt werden.

Zum Beispiel sind zwei Standardabweichungen (2œÉ) das Gleiche wie eine _obere_ Grenze kumulative Prozentzahl von 97,7%, wie oben dargestellt.
Bei der Erstellung von Z-Score-Schwellenwerten wird die Dezimalschreibweise der kumulativen Prozentzahl verwendet.
In diesem Beispiel w√§re die _obere_ Grenze kumulative Prozentzahl von 97,7% eine obere Grenze von `0,977`.
In der Praxis w√§re ein solcher Schwellenwert n√ºtzlich f√ºr die Metrikart Latenz.
Das hei√üt, ein gr√∂√üerer Wert w√ºrde auf eine Performance-Verschlechterung hinweisen.

Wenn ein kleinerer Wert auf eine Leistungsverschlechterung hinweisen w√ºrde, wie bei der Metrikart Durchsatz,
sollte eine _untere_ Grenze kumulative Prozentzahl verwendet werden.
Eine _untere_ Grenze kumulative Prozentzahl von 97,7% w√ºrde zwei Standardabweichungen unter dem Durchschnitt (-2œÉ) entsprechen.
Dies w√ºrde in Dezimalschreibweise als Unterer Grenzwert von `0,977` angegeben.

<br />

> üê∞ Tipp: Wenn Sie einen Z-Score-Schwellenwert verwenden, stellen Sie die Mindeststichprobengr√∂√üe auf mindestens 30 ein.

### Student's T-Test

Der Student's T-Test misst, wie wahrscheinlich es ist, dass eine gegebene Metrik √ºber oder unter dem Durchschnitt der historischen Metrik liegt.
Diese Wahrscheinlichkeit wird als Konfidenzintervall (CI) bezeichnet.
Das Konfidenzintervall (CI) wird als _untere_ Grenze oder _obere_ Grenze Konfidenzprozentzahl ausgedr√ºckt.

Zum Beispiel zeigt ein _oberer_ Grenzwert Konfidenzprozentsatz von 95,0% an, dass 95,0% der Metriken _kleiner_ als ein erwartetes _Maximum_ sein sollten.
Bei der Erstellung von T-Test-Schwellenwerten wird die Dezimalschreibweise der Konfidenzprozentzahl verwendet.
In diesem Beispiel w√ºrde die _obere_ Grenze Konfidenzprozentzahl von 95,0% eine obere Grenze von `0,95` bedeuten.
In der Praxis w√§re ein solcher Schwellenwert n√ºtzlich f√ºr die Metrikart Latenz.
Das hei√üt, ein gr√∂√üerer Wert w√ºrde auf eine Performance-Verschlechterung hinweisen.

Wenn ein kleinerer Wert auf eine Leistungsverschlechterung hinweisen w√ºrde, wie bei der Metrikart Durchsatz,
sollte eine _untere_ Grenze Konfidenzprozentzahl verwendet werden.
Eine _untere_ Grenze Konfidenzprozentzahl von 95,0% w√ºrde darauf hinweisen, dass die Metriken _gr√∂√üer_ als ein erwartetes _Minimum_ sein sollten.
Dies w√ºrde in Dezimalschreibweise als Unterer Grenzwert von `0,95` angegeben.

<br />

> üê∞ Tipp: Verwenden Sie einen T-Test-Schwellenwert, wenn Sie weniger als 30 historische Metriken haben.

## Statistische Signifikanzgrenze

Die Bedeutung der statistischen Signifikanzgrenze h√§ngt vom statistischen Signifikanztest ab:
- Z-Score: Standardabweichung (œÉ) ausgedr√ºckt als kumulative Dezimalprozentzahl
- T-Test: Konfidenzintervall (CI) ausgedr√ºckt als Dezimal-Konfidenzprozentzahl

Jede Metrik wird, wenn sie existiert, gegen die statistische Signifikanzgrenze des Schwellenwerts gepr√ºft.
Dies kann eine Untere Grenze, eine Obere Grenze oder beides beinhalten.
Eine Grenzlimit wird f√ºr jede Grenze berechnet.
Dieses Grenzlimit wird dann mit der aktuellen Metrik verglichen.
Wenn diese Metrik au√üerhalb des Grenzlimits liegt, wird ein Alarm erzeugt.

> üê∞ Tipp: Um einen CI-Build zu verfehlen, wenn eine Grenze verletzt wird, verwenden Sie die `--err` Flagge f√ºr den <code><a href="/de/docs/explanation/bencher-run/">bencher run</a></code> CLI-Unterbefehl.

### Unterschiedliches Verhalten
Eine untere Grenze kann f√ºr einen Schwellenwert gesetzt werden.
Es wird verwendet, wenn ein kleinerer Wert auf eine Leistungsverschlechterung hinweisen w√ºrde, wie bei der Metrikart Durchsatz.
Der Wert muss eine Dezimalzahl zwischen `0.5` und `1.0` sein.

Zum Beispiel, wenn Sie einen Z-Score verwendeten und Ihre historischen Metriken einen Durchschnitt von `100` und eine Standardabweichung von `10` hatten,
dann w√ºrde eine untere Grenze von `0,977` eine untere Grenze bei `80,05` erzeugen.
Ein Wert von weniger als `80,05` w√ºrde einen Alarm erzeugen.

### Obergrenze
Eine obere Grenze kann f√ºr einen Schwellenwert gesetzt werden.
Es wird verwendet, wenn ein gr√∂√üerer Wert auf eine Leistungsverschlechterung hinweisen w√ºrde, wie bei der Metrikart Latenz.
Der Wert muss eine Dezimalzahl zwischen `0.5` und `1.0` sein.

Zum Beispiel, wenn Sie einen Z-Score verwendeten und Ihre historischen Metriken einen Durchschnitt von `100` und eine Standardabweichung von `10` hatten,
dann w√ºrde eine obere Grenze von `0,977` eine obere Grenze bei `119,95` erzeugen.
Ein Wert √ºber `119,95` w√ºrde einen Alarm erzeugen.

## Stichprobengr√∂√üe

### Mindeststichprobengr√∂√üe
F√ºr einen Schwellenwert kann eine Mindeststichprobengr√∂√üe gesetzt werden.
Der Schwellenwert f√ºhrt seinen Test auf statistische Signifikanz nur durch,
wenn die Anzahl der historischen Metriken gr√∂√üer oder gleich der Mindeststichprobengr√∂√üe ist.

### Maximale Stichprobengr√∂√üe
F√ºr einen Schwellenwert kann eine maximale Stichprobengr√∂√üe gesetzt werden.
F√ºr seinen Test auf statistische Signifikanz beschr√§nkt sich der Schwellenwert auf nur die neuesten historischen Metriken,
begrenzt auf die maximale Stichprobengr√∂√üe.

## Fenstergr√∂√üe
F√ºr einen Schwellenwert kann eine Fenstergr√∂√üe in Sekunden gesetzt werden.
F√ºr seinen Test auf statistische Signifikanz beschr√§nkt sich der Schwellenwert auf nur die neuesten historischen Metriken,
begrenzt durch das gegebene Zeitfenster.

## Alarme
Alarme werden erzeugt, wenn eine Metrik unterhalb der unteren Grenze eines Schwellenwerts oder oberhalb der oberen Grenze eines Schwellenwerts liegt.
Um einen CI-Build im Falle eines Alarms zu verfehlen, setzen Sie die `--err` Flagge beim Verwenden des <code><a href="/de/docs/explanation/bencher-run/">bencher run</a></code> CLI-Unterbefehls.

### Unterdr√ºckung von Alarmen
Manchmal kann es n√ºtzlich sein, Alarme f√ºr einen bestimmten Benchmark zu unterdr√ºcken.
Der beste Weg, dies zu tun, ist durch das Hinzuf√ºgen einer dieser speziellen Suffixe zum Namen dieses Benchmarks:

- `_bencher_ignore`
- `BencherIgnore`
- `-bencher-ignore`

Zum Beispiel, wenn Ihr Benchmark `my_flaky_benchmark` hie√ü, dann w√ºrde das Umbenennen in `my_flaky_benchmark_bencher_ignore`
diesen bestimmten Benchmark von nun an ignorieren.
Ignorierte Benchmarks werden nicht gegen den Schwellenwert gepr√ºft, selbst wenn einer existiert.
Allerdings werden die Metriken f√ºr ignorierte Benchmarks immer noch gespeichert.
Unter Beibehaltung unseres Beispiels w√ºrden die Ergebnisse von `my_flaky_benchmark_bencher_ignore` immer noch in der Datenbank unter `my_flaky_benchmark` gespeichert.
Entfernen Sie das Suffix und kehren Sie zum urspr√ºnglichen Benchmark-Namen zur√ºck, so wird dort fortgesetzt, wo Sie aufgeh√∂rt haben.

<br />
<br />

> üê∞ Herzlichen Gl√ºckwunsch! Sie haben alles √ºber Schwellenwerte & Alarme gelernt! üéâ

<br/>

<h2><a href="/de/docs/explanation/continuous-benchmarking/">Weitermachen: Kontinuierliches Benchmarking ‚û°</a></h2>
