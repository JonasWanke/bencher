---
title: "execu√ß√£o bencher"
description: "Vis√£o geral do subcomando CLI execu√ß√£o bencher e todas as suas flags, argumentos e recursos"
heading: "Subcomando bencher run CLI"
sortOrder: 2
---

`bencher run` √© o subcomando CLI mais popular. √â usado para executar benchmarks e reportar os resultados. Por isso, √© um dos subcomandos mais complicados. Esta p√°gina vai explicar as op√ß√µes, flags e argumentos que podem ser passados para `bencher run`.

## Comando de Benchmark

O primeiro e √∫nico argumento para `bencher run` √© o comando opcional de benchmark. Este √© o comando que ser√° executado e invocar√° seu sistema de benchmark. Ele tamb√©m pode ser definido usando a vari√°vel de ambiente `BENCHER_CMD`.
O comando √© executado em um shell, que pode ser configurado com as op√ß√µes `--shell` e `--flag`.
A sa√≠da √© analisada por um adaptador de benchmark, que pode ser configurado usando a op√ß√£o `--adapter`.
Por√©m, se o sistema de benchmark escrever em um arquivo, ent√£o a op√ß√£o `--file` deve ser usada para especificar o caminho do arquivo de sa√≠da.

<br />

> üê∞ Se o seu comando de benchmark tem v√°rias palavras, ent√£o voc√™ deve envolv√™-lo em aspas (por exemplo `bencher run "bencher mock"`).

<br />

O comando de benchmark pode ser executado v√°rias vezes usando a op√ß√£o `--iter`,
e esses resultados podem ser combinados em um √∫nico resultado usando a op√ß√£o `--fold`.
Se alguma das itera√ß√µes falhar, ent√£o o comando inteiro √© considerado uma falha, a menos que a flag `--allow-failure` esteja configurada.

Se o comando do benchmark n√£o estiver especificado, mas a op√ß√£o `--file` estiver, ent√£o `bencher run` ler√° o arquivo de sa√≠da o inv√©s.
Se tanto o comando do benchmark quanto a op√ß√£o `--file` n√£o estiverem especificados, ent√£o `bencher run` ler√° o `stdin` ao inv√©s.
Isso permite que voc√™ salve a sa√≠da de outro comando em um arquivo ou a encaminhe para `bencher run`, respectivamente.

## Op√ß√µes

### `--project <PROJECT>`

<br />

A op√ß√£o `--project` ou a vari√°vel de ambiente `BENCHER_PROJECT` deve ser configurada para o slug ou UUID de um projeto j√° existente.
Se ambos estiverem definidos, a op√ß√£o `--project` tem preced√™ncia sobre a vari√°vel de ambiente `BENCHER_PROJECT`.

<br />

### `--token <TOKEN>`

<br />

A op√ß√£o `--token` ou a vari√°vel de ambiente `BENCHER_API_TOKEN` deve ser configurada para um token API v√°lido.
Se ambos estiverem definidos, a op√ß√£o `--token` tem preced√™ncia sobre a vari√°vel de ambiente `BENCHER_API_TOKEN`.

<br />

### `--branch <BRANCH>`
### `--if-branch <IF_BRANCH>`
### `--else-if-branch <ELSE_IF_BRANCH>`
### `--else-branch`
### `--endif-branch`

<br />

Veja [sele√ß√£o de branch](/pt/docs/explanation/branch-selection/) para uma vis√£o geral completa.

<br />

### `--hash <HASH>`

<br />

Opcional: Um hash de commit SHA-1 de 40 caracteres.
Se dois relat√≥rios possu√≠rem a mesma branch e hash, eles ser√£o considerados do mesmo commit.
Portanto, eles v√£o ter o mesmo n√∫mero de vers√£o da branch.

<br />

### `--testbed <TESTBED>`

<br />

Opcional: A op√ß√£o `--testbed` ou a vari√°vel de ambiente `BENCHER_TESTBED` pode ser configurada para o slug ou UUID de um testbed j√° existente.
Se ambos estiverem definidos, a op√ß√£o `--testbed` tem preced√™ncia sobre a vari√°vel de ambiente `BENCHER_TESTBED`.
Se nenhum dos dois estarem definidos, ent√£o `localhost` √© usado como o testbed padr√£o.

<br />

### `--adapter <ADAPTER>`
### `--average <AVERAGE>`
### `--file <FILE>`

<br />

Veja [adaptador de benchmark](/pt/docs/explanation/adapters/) para uma vis√£o geral completa.

<br />

### `--iter <ITER>`

<br />

Opcional: N√∫mero de itera√ß√µes de execu√ß√£o. O padr√£o √© `1`.

### `--fold <FOLD>`

<br />

Opcional: Combine v√°rios resultados em um √∫nico resultado. \
Requer: `--iter` definido. \
Valores poss√≠veis:
    - `min`:    Valor m√≠nimo
    - `max`:    Valor m√°ximo
    - `mean`:   M√©dia dos valores
    - `median`: Mediana dos valores

<br />

### `--backdate <DATETIME_SECONDS>`

<br />

Opcional: Retrodata o relat√≥rio (segundos desde a √©poca).
NOTA: Isso *n√£o* afetar√° a ordem dos relat√≥rios passados!
Isso √© √∫til ao inicialmente inserir dados hist√≥ricos em um projeto em ordem _cronol√≥gica_.

<br />

### `--allow-failure`

<br />

Opcional: Permita falha no teste de benchmark.

<br />

### `--err`

<br />

Opcional: Erro quando um alerta √© gerado. Veja [limiares e alertas](/pt/docs/explanation/thresholds/) para uma vis√£o geral completa.

<br />

### `--html`

<br />

Opcional: Sa√≠da dos resultados em formato HTML.

<br/>

### `--quiet`

<br />

Opcional: Modo silencioso, apenas produz a sa√≠da final do Relat√≥rio em JSON. O padr√£o √© `false`.

<br />

### `--ci-no-metrics`

<br />

Opcional: Omita M√©tricas de Benchmark e Limites de Fronteira.
Necess√°rio: `--github-actions`

<br />

### `--ci-only-thresholds`

<br />

Opcional: Somente postar resultados para CI se [um Limite](/pt/docs/explanation/thresholds/) existir para o Tipo de M√©trica, Branch e Testbed.
Se n√£o existirem Limites, ent√£o nada ser√° postado.
Requer: `--github-actions`

<br />

### `--ci-only-on-alert`

<br />

Opcional: Comece a postar resultados para CI somente se [um Alerta](/pt/docs/explanation/thresholds/) for gerado.
Se um Alerta for gerado, ent√£o os resultados de acompanhamento, mesmo que n√£o contenham nenhum Alerta, tamb√©m ser√£o postados.
Requer: `--github-actions`

<br />

### `--ci-id`

<br />

Opcional: ID personalizada para postar resultados para CI.
Por padr√£o, o Bencher ir√° segmentar automaticamente os resultados pela combina√ß√£o de: Projeto, Branch, Testbed e [Adaptador](/pt/docs/explanation/adapters/).
Definir um ID personalizado √© √∫til quando o Bencher est√° sendo executado v√°rias vezes na mesma estrutura de trabalho CI para a mesma combina√ß√£o de Projeto, Branch, Testbed, e Adaptador.
Requer: `--github-actions`

<br/>

### `--ci-number`

<br />

Opcional: N√∫mero de problema para postar resultados para CI.
Bencher vai tentar ao m√°ximo detectar o n√∫mero do problema CI necess√°rio para postar resultados.
No entanto, isso nem sempre est√° dispon√≠vel em configura√ß√µes complexas, como usar `workflow_run` em GitHub Actions.
Requer: `--github-actions`

<br/>

### `--github-actions`

<br />

Opcional: Configura o token de autentica√ß√£o da API GitHub (ou seja, `--github-actions ${{ secrets.GITHUB_TOKEN }}`).
Quando esta op√ß√£o √© configurada e `bencher run` √© usado em GitHub Actions como parte de um pull request,
os resultados ser√£o adicionados ao pull request como um coment√°rio.
A forma mais conveniente de fazer isso √© a [vari√°vel de ambiente `GITHUB_TOKEN` do GitHub Actions](https://docs.github.com/pt/actions/security-guides/automatic-token-authentication).

> üê∞ Se voc√™ estiver executando dentro de um cont√™iner Docker dentro do GitHub Action, voc√™ precisar√° passar as seguintes vari√°veis de ambiente e montar o caminho especificado por `GITHUB_EVENT_PATH`:
> - `GITHUB_ACTIONS`
> - `GITHUB_EVENT_NAME`
> - `GITHUB_EVENT_PATH`

<br />

### `--shell <SHELL>`

<br />

Opcional: Caminho do comando Shell. Por padr√£o √© `/bin/sh` em ambientes Unix-like e `cmd` no Windows.

<br />

### `--flag <FLAG>`

<br />

Opcional: Flag do comando Shell. Por padr√£o √© `-c` em ambientes Unix-like e `/C` no Windows.

<br />

### `--host <HOST>`

<br />

Opcional: URL do host Backend. Por padr√£o √© [https://api.bencher.dev](https://api.bencher.dev).

<br />

### `--attempts <ATTEMPTS>`

<br />

Opcional: Tentativas m√°ximas de requisi√ß√£o. Por padr√£o √© `10`.

<br />

### `--retry-after <RETRY_AFTER>`

<br />

Opcional: Requisi√ß√£o de tentativa ap√≥s o n√∫mero dado de segundos (recuo exponencial). Por padr√£o √© `1`.

<br />

### `--strict`

<br />

Opcional: Analise estritamente as respostas JSON. O padr√£o √© `false`.
Habilitar este recurso exigir√° atualiza√ß√µes de cliente mais frequentes devido a mudan√ßas que quebram a compatibilidade.

<br />

### `--dry-run`

<br />

Opcional: Executar uma simula√ß√£o. Isso n√£o ir√° armazenar nenhum dado no backend.
Nem um Relat√≥rio nem Branch como detalhado em [sele√ß√£o de branch](/pt/docs/explanation/branch-selection/) ser√£o criados.

<br />

### `-h`
### `--help`

<br />

Opcional: Mostra a ajuda.

<br />
<br />

> üê∞ Parab√©ns! Voc√™ aprendeu os fundamentos de <code>bencher run</code>! üéâ

<br/>

<h2><a href="/pt/docs/explanation/branch-selection/">Continuar: Sele√ß√£o de Branch com <code>bencher run</code> ‚û°</a></h2>