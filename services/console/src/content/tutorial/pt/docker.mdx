---
title: "Docker Auto-Hospedagem"
description: "Aprenda como configurar benchmarking cont√≠nuo auto-hospedado com Bencher"
heading: "Docker Auto-Hospedado"
sortOrder: 2
---

import { BENCHER_VERSION } from "../../../util/ext";

## O que √© o Bencher?

Bencher √© um conjunto de ferramentas de [benchmarking cont√≠nuo](/docs/pt/explanation/continuous-benchmarking/).
J√° lhe aconteceu uma regress√£o de desempenho impactar os seus usu√°rios?
O Bencher poderia ter evitado que isso acontecesse.
Bencher permite detectar e prevenir regress√µes de desempenho _antes_ que cheguem √† produ√ß√£o.

- **Executar**: Execute seus benchmarks localmente ou no CI usando suas ferramentas de benchmarking favoritas. O CLI `bencher` simplesmente encapsula o seu harness de benchmark existente e armazena os seus resultados.
- **Acompanhar**: Acompanhe os resultados dos seus benchmarks ao longo do tempo. Monitorize, questione e fa√ßa o gr√°fico dos resultados utilizando o console web Bencher com base na branch de origem, testbed e tipo de m√©trica.
- **Capturar**: Capture regress√µes de desempenho no CI. Bencher usa an√°lises personaliz√°veis de √∫ltima gera√ß√£o para detectar regress√µes de desempenho antes que cheguem √† produ√ß√£o.

Pelos mesmos motivos que os testes unit√°rios s√£o executados no CI para prevenir regress√µes de funcionalidades, os benchmarks tamb√©m devem ser executados no CI com Bencher para prevenir regress√µes de desempenho. Bugs de desempenho s√£o bugs!

Bencher √© open-source e auto-hosped√°vel.
Se estiver interessado em utilizar Bencher Cloud, confira o [tutorial de in√≠cio r√°pido do Bencher Cloud](/docs/pt/tutorial/quick-start/).
Para este tutorial, vamos usar o Bencher auto-hospedado com Docker.

<br />

## Clonar o Reposit√≥rio

Para seguir este tutorial, voc√™ precisar√° ter `git` instalado.
Verifique se voc√™ tem `git` instalado.

Execute: `git --version`

Voc√™ dever√° ver algo como:

```
$ git --version
git version 2.37.3
```

Est√° tudo bem se o n√∫mero da sua vers√£o for diferente.
√â apenas importante que este comando funcione.
Se n√£o, siga as [instru√ß√µes para instalar o `git`](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git).

<br />

Com o `git` instalado, podemos agora clonar o reposit√≥rio do Bencher.

Execute: <code>{`git clone --branch v${BENCHER_VERSION} https://github.com/bencherdev/bencher.git`}</code>

Voc√™ dever√° ver algo como:

```
$ git clone https://github.com/bencherdev/bencher.git
Cloning into 'bencher'...
remote: Enumerating objects: 24752, done.
remote: Counting objects: 100% (7363/7363), done.
remote: Compressing objects: 100% (2396/2396), done.
remote: Total 24752 (delta 4862), reused 7274 (delta 4785), pack-reused 17389
Receiving objects: 100% (24752/24752), 4.92 MiB | 12.43 MiB/s, done.
Resolving deltas: 100% (16108/16108), done.
```

<br />

## Execute os Servidores UI & API do Bencher

Para executar os servidores UI e API neste tutorial, voc√™ precisa ter o `docker` instalado.
Verifique se voc√™ tem o `docker` instalado.

Execute: `docker --version`

Voc√™ dever√° ver algo como:

```
$ docker --version
Docker version 20.10.17, build 100c701
```

Est√° tudo bem se o n√∫mero da sua vers√£o for diferente. √â apenas importante que este comando funcione.
Se n√£o, siga as [instru√ß√µes para instalar o `docker`](https://docs.docker.com/get-docker/).

<br />

Com o `docker` instalado, agora podemos executar os servidores UI e API.

Execute: `docker compose up -d`

Voc√™ dever√° ver algo como:

```
$ docker compose up -d
[+] Running 16/16
 ‚†ø bencher_ui Pulled                                           5.9s
 ...
 ‚†ø bencher_api Pulled                                          6.3s
 ...
[+] Running 3/3
 ‚†ø Network bencher_default      Started                        0.1s
 ‚†ø Container bencher_ui         Started                        0.8s
 ‚†ø Container bencher_api_local  Started                        0.4s
```

Novamente, est√° tudo bem se a sua sa√≠da for diferente. √â apenas importante que este comando funcione.

<br />

Em seguida, verifique se ambos os containers docker est√£o em funcionamento.

Execute: `docker ps`

Voc√™ dever√° ver algo como:

```
$ docker ps
CONTAINER ID   IMAGE                                 COMMAND                  CREATED              STATUS              PORTS                                           NAMES
1d2ed7c7481e   bencherdev/bencher-ui:latest          "/docker-entrypoint.‚Ä¶"   About a minute ago   Up About a minute   0.0.0.0:3000->80/tcp, :::3000->80/tcp           bencher_ui
7a8590d7021a   bencherdev/bencher-api-local:latest   "/api"                   About a minute ago   Up About a minute   0.0.0.0:61016->61016/tcp, :::61016->61016/tcp   bencher_api_local
```

Como antes, est√° tudo bem se a sua sa√≠da for diferente. √â apenas importante que este comando funcione.


<br />

## Logs do Servidor API Bencher

Vamos dar uma olhada nos logs do servidor API Bencher.

Execute: `docker compose logs bencher_api`

Porque ainda n√£o configuramos email/SMTP no servidor API,
os c√≥digos de confirma√ß√£o que voc√™ receber√° mais tarde no tutorial estar√£o nos logs do servidor.

<br />

## Definir o Host Bencher

O host padr√£o do CLI `bencher` √© o Bencher Cloud (ie [https://api.bencher.dev](https://api.bencher.dev)).
Portanto, voc√™ precisa definir seu hostname. A maneira mais f√°cil de fazer isso √© com a vari√°vel de ambiente `BENCHER_HOST`.

Execute: `export BENCHER_HOST=http://localhost:61016`

Se voc√™ executar: `echo $BENCHER_HOST`

Voc√™ dever√° ver:

```
$ echo $BENCHER_HOST
http://localhost:61016
```

<br />
<br />

> üê∞ Parab√©ns! Voc√™ configurou o Bencher Auto-Hospedado! üéâ
> Agora voc√™ pode continuar com o tutorial de in√≠cio r√°pido usando Bencher Auto-Hospedado.

<br />

<h2><a href="/docs/pt/tutorial/quick-start/">Continue: In√≠cio R√°pido ‚û°</a></h2>
