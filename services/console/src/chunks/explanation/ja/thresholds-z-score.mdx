## z-スコアの閾値

z-スコアの閾値は、新しいメトリクスが[標準偏差](https://en.wikipedia.org/wiki/Standard_deviation)（σ）を基に、過去のメトリクスの平均からどの程度離れているかを測定するためのものです。これは、[z-スコア](https://en.wikipedia.org/wiki/Standard_score)を用いて計算されます。

z-スコアの閾値は以下の条件下で最も効果的です：
- ベンチマーク実行間に極端な差がない
- ベンチマークの実行が全く互いに依存していない
- 単一のベンチマーク実行の繰り返し回数が、過去のメトリクスの10％未満
- 過去のメトリクスが少なくとも30件ある（最小サンプルサイズ >= 30）

z-スコアの閾値では、標準偏差は小数点以下の累積パーセンテージとして表されます。
新しいメトリクスが特定の左側累積パーセンテージ（下限）以下、または特定の右側累積パーセンテージ（上限）以上である場合、過去のメトリクスに対するアラートが生成されます。
下限、上限、または両方が設定されている必要があります。

- ### z-スコア閾値の下限
  - z-スコア閾値の下限は、`0.5`と`1.0`の間の任意の正の小数にすることができます。ここで、`0.5`は平均を表し、`1.0`はすべての可能な左側の値（-∞）を表します。
より小さい値はパフォーマンスの劣化を示す場合に使用されます。
  - 例えば、下限を`0.977`に設定したz-スコア閾値を使用し、過去のメトリクスの平均が`100`で標準偏差が`10`だった場合、下限は`80.05`となり、
`80.05`未満の任意の値はアラートを生成します。
- ### z-スコア閾値の上限
  - z-スコア閾値の上限は、`0.5`と`1.0`の間の任意の正の小数にすることができます。ここで、`0.5`は平均を表し、`1.0`はすべての可能な右側の値（∞）を表します。
より大きい値はパフォーマンスの劣化を示す場合に使用されます。
  - 例えば、上限を`0.977`に設定したz-スコア閾値を使用し、過去のメトリクスの平均が`100`で標準偏差が`10`だった場合、上限は`119.95`となり、
`119.95`を超える任意の値はアラートを生成します。