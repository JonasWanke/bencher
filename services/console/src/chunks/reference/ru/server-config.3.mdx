## `logging`

Этот раздел основан на [конфигурации журнала Dropshot](https://github.com/oxidecomputer/dropshot/tree/v0.9.0#logging).

|      Имя      |      Пример       |   По умолчанию    |          Обязательно          |                                                                                                                                                                                                                      Описание                                                                                                                                                                                                                      |
| :-----------: | :---------------: | :---------------: | :---------------------------: | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
|     name      |   "Bencher API"   |   "Bencher API"   |              Да               |                                                                                                                                                                                                              Задает название логгера.                                                                                                                                                                                                              |
|   log.mode    | "stderr_terminal" | "stderr_terminal" |              Да               | Управляет расположением журнала сервера. Допустимые режимы - "stderr_terminal" и "file". Если режим - `"stderr_terminal", человеко-читаемый вывод, возможно, с цветами и другим форматированием терминала, будет отправлен в stderr. Если режим - "file", вывод в формате Bunyan будет отправлен на путь в файловой системе, заданный log.path. Смотрите также log.if_exists, который контролирует поведение, если путь назначения уже существует. |
|   log.level   |      "info"       |      "info"       |              Да               |                                                                                                  Задает уровень тяжести сообщений в логе. Допустимые значения включают "trace", "debug", "info", "warn", "error" и "critical", которые отражают растущую тяжесть. Сообщения лога указанного уровня и более высоких уровней будут включены в лог.                                                                                                   |
|   log.path    |        ---        |        ---        | Только если log.mode = "file" |                                                                                                                                                                       Если log.mode равно "file", это свойство определяет путь к файлу журнала. Смотри также log.if_exists.                                                                                                                                                                        |
| log.if_exists |        ---        |        ---        | Только если log.mode = "file" |                                                                       Если log.mode равно "file", это свойство задает что делать, если файл журнала уже существует. Допустимые значения включают "append" (что добавляет к существующему файлу), "truncate" (приведение существующего файла к изначальному), и "fail" (сервер немедленно остановит работу с выводом ошибки).                                                                       |


## `database`

|             Имя              |                                    Пример                                     |            По умолчанию            |                Обязательно                |                                                                                               Описание                                                                                                |
| :--------------------------: | :---------------------------------------------------------------------------: | :--------------------------------: | :---------------------------------------: | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
|             file             |                             "path/to/database.db"                             | "/usr/bin/bencher/data/bencher.db" |                    Да                     |                                                                             Управляет расположением базы данных сервера.                                                                              |
|      data_store.service      |                                   "aws_s3"                                    |                ---                 |                    Нет                    |                                                              Задает внешний сервис для хранения данных. Допустимые значения - "aws_s3".                                                               |
|   data_store.access_key_id   |                             "ABC123DoRemMiABC123"                             |                ---                 | Только если data_store.service = "aws_s3" |                                    Если data_store.service = "aws_s3", это свойство указывает идентификатор ключа доступа AWS. Смотрите также data_store.service.                                     |
| data_store.secret_access_key |                 "AA3Chr-JSF5sUQqKwayx-FvCfZKsMev-5BqPpcFC3m7"                 |                ---                 | Только если data_store.service = "aws_s3" |          Если data_store.service = "aws_s3", это свойство указывает секретный ключ доступа AWS. Смотрите также data_store.service. При логировании он будет обфусцирован как `************`.          |
|   data_store.access_point    | "arn:aws:s3:some-region-1:123456789:accesspoint/my-bucket/path/to/backup/dir" |                ---                 | Только если data_store.service = "aws_s3" | Если data_store.service = "aws_s3", это свойство указывает [точку доступа AWS S3](https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-access-points.html). Смотрите также data_store.service. |


## `smtp`

В этом разделе указывается конфигурация сервиса [SMTP](https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol).
Весь раздел является необязательным.
Если он не указан, все сообщения будут отправляться в `logging`.

|    Имя     |           Пример           | По умолчанию | Обязательно |                                                     Описание                                                      |
| :--------: | :------------------------: | :----------: | :---------: | :---------------------------------------------------------------------------------------------------------------: |
|  hostname  |      "mailbonobo.com"      |     ---      |     Да      |                                                Задает адрес SMTP.                                                 |
|    port    |            587             |     587      |     Нет     |                                                 Задает порт SMTP.                                                 |
|  starttls  |            true            |     true     |     Нет     |                           Управляет применением протокола STARTTLS для соединения SMTP.                           |
|  username  |         "bencher"          |     ---      |     Да      |                                      Задает имя пользователя на хосте SMTP.                                       |
|   secret   | "WM3F2u9cqSNdBPLfy9sJ5kk9" |     ---      |     Да      | Указывает пароль для имени пользователя на хосте SMTP. При логировании он будет обфусцирован как `************`.  |
| from_name  |         "Bencher"          |     ---      |     Да      |              Задает имя, которое будет отображаться в секции "от кого" во всех электронных письмах.               |
| from_email | "info@bencher.example.com" |     ---      |     Да      | Устанавливает адрес электронной почты, который будет отображаться в секции "от кого" во всех электронных письмах. |
